(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9a47d54"],{"0554":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"grey"},[s("SPAlert",{ref:"alert"}),s("v-overlay",{attrs:{absolute:"",value:t.busy}},[s("v-progress-circular",{attrs:{size:60,width:5,color:"primary",indeterminate:""}})],1),s("v-card",{staticClass:"pa-3 bordered",attrs:{flat:""}},[s("p",{staticClass:"text-overline ma-0 ml-3"},[t._v("LEAVE ADJUSTMENT")]),s("v-flex",{staticClass:"my-2 text-right",attrs:{xs12:"",md12:""}},[s("v-btn",{staticClass:"mx-1",attrs:{rounded:"",color:"primary",small:""},on:{click:function(e){return t.saveLeaveAdjustment()}}},[t._v(" Save ")]),s("v-btn",{staticClass:"mx-1",attrs:{rounded:"",color:"success",small:""}},[t._v(" Refresh ")])],1),s("v-flex",{staticClass:"ma-3 mx-auto",attrs:{xs12:"",md6:""}},[s("div",[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("tr",{staticClass:"primary"},[s("td",{staticClass:"white--text fields py-2 px-2"},[t._v("LEAVE TYPE")]),s("td",{staticClass:"white--text fields py-2 px-2"},[t._v("ADJUSTMENT HRS")])]),t._l(t.options.leave_type.filter((function(t){return 1==t.withEntitlement})),(function(e,r){return s("tr",{key:r},[s("td",{staticClass:"fields px-2"},[t._v(t._s(e.description))]),s("td",{staticClass:"fields px-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hours[e.ID],expression:"hours[item.ID]"}],staticClass:"form-control my-1",attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.hours[e.ID]},on:{input:function(s){s.target.composing||t.$set(t.hours,e.ID,s.target.value)}}})])])}))]},proxy:!0}])})],1)])],1)],1)},a=[],i=s("1da1"),n=(s("96cf"),s("e9c4"),s("d3b7"),s("159b"),s("4fad"),s("d81d"),s("3ca3"),s("ddb0"),s("549b")),o={components:{SPAlert:n["a"]},props:["empDetails","tkDetails","ppDetails","dates"],data:function(){return{busy:!1,options:{leave_type:[]},hours:{},orighours:{},confirmdialog:!1,deleteIndex:""}},created:function(){this.getLeaveTypes(),this.getLeaveAdjustments()},methods:{getLeaveTypes:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.masterSelect({table_name:"hris_timekeeping.leave_types",filters:JSON.stringify({status:1})});case 2:s=e.sent,t.options.leave_type=s.data;case 4:case"end":return e.stop()}}),e)})))()},getLeaveAdjustments:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.masterSelect({table_name:"hris_timekeeping.leave_adjustments",filters:JSON.stringify({employeeID:t.tkDetails.employeeID,payperiodID:t.ppDetails.ID,status:1})});case 2:s=e.sent,s.data.forEach((function(e){t.$set(t.hours,e.leaveTypeID,e.adjustmentHrs)})),t.orighours=JSON.stringify(t.hours),t.orighours=JSON.parse(t.orighours);case 6:case"end":return e.stop()}}),e)})))()},saveLeaveAdjustment:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=Object.entries(t.hours),r=[],s.forEach((function(e){"undefined"!=typeof t.orighours[e[0]]?t.orighours[e[0]]!=e[1]&&r.push({employeeID:t.tkDetails.employeeID,payperiodID:t.ppDetails.ID,leaveTypeID:e[0],adjustmentHrs:e[1],status:1}):r.push({employeeID:t.tkDetails.employeeID,payperiodID:t.ppDetails.ID,leaveTypeID:e[0],adjustmentHrs:e[1],status:1})})),a=0,i=r.map((function(e){var s=t.$api.saveData({tableName:"hris_timekeeping.leave_adjustments",fields:JSON.stringify(e),key:JSON.stringify(["employeeID","payperiodID","leaveTypeID"])});s.then((function(t){1!=t.result&&(a+=1)}))})),Promise.all(i).then((function(){if(0==a){var e={text:"Leave adjustment added successfully!",title:"INFO",type:"info"};t.$refs.alert.showAlert(e)}else{var s={text:"Leave adjustment entry failed!",title:"WARNING",type:"danger"};t.$refs.alert.showAlert(s)}})).catch((function(){var e={text:"Leave adjustment entry failed!",title:"WARNING",type:"danger"};t.$refs.alert.showAlert(e)}));case 6:case"end":return e.stop()}}),e)})))()}},computed:{trigger:function(){return{ppDetails:this.ppDetails,dates:this.dates}}}},l=o,c=(s("5ea8"),s("2877")),u=s("6544"),d=s.n(u),h=s("8336"),p=s("b0af"),f=s("0e8f"),m=s("a797"),v=s("490a"),g=s("1f4f"),y=Object(c["a"])(l,r,a,!1,null,"b554ccc4",null);e["default"]=y.exports;d()(y,{VBtn:h["a"],VCard:p["a"],VFlex:f["a"],VOverlay:m["a"],VProgressCircular:v["a"],VSimpleTable:g["a"]})},"0798":function(t,e,s){"use strict";var r=s("5530"),a=s("ade3"),i=(s("caad"),s("0c18"),s("10d2")),n=s("afdd"),o=s("9d26"),l=s("f2e7"),c=s("7560"),u=s("f40d"),d=s("58df"),h=s("d9bd");e["a"]=Object(d["a"])(i["a"],l["a"],u["a"]).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(a["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(n["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(o["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(r["a"])(Object(r["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||c["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(h["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,s){},"0e8f":function(t,e,s){"use strict";s("20f6");var r=s("e8f2");e["a"]=Object(r["a"])("flex")},"18dd":function(t,e,s){},"1f4f":function(t,e,s){"use strict";var r=s("5530"),a=(s("a9e3"),s("8b37"),s("80d2")),i=s("7560"),n=s("58df");e["a"]=Object(n["a"])(i["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(r["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(a["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"20f6":function(t,e,s){},"4fad":function(t,e,s){var r=s("23e7"),a=s("6f53").entries;r({target:"Object",stat:!0},{entries:function(t){return a(t)}})},"549b":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{staticClass:"my-0 py-0",attrs:{persistent:"","max-width":"500"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[s("v-alert",{staticClass:"my-0",attrs:{prominent:"",type:t.type}},t._l(t.texts,(function(e){return s("div",{key:e,staticClass:"text-button",domProps:{innerHTML:t._s(e)}})})),0)],1)},a=[],i={data:function(){return{texts:[""],title:"",type:"",timeout:3e3,status:!1}},methods:{showAlert:function(t){this.texts=Array.isArray(t.text)?t.text:[void 0==t.text?"":t.text],this.title=t.title,this.type=t.type,this.timeout="undefined"==typeof t.timeout?3e3:t.timeout,this.status=!0;var e=this;setTimeout((function(){e.status=!1}),this.timeout)}}},n=i,o=s("2877"),l=s("6544"),c=s.n(l),u=s("0798"),d=s("169a"),h=Object(o["a"])(n,r,a,!1,null,null,null);e["a"]=h.exports;c()(h,{VAlert:u["a"],VDialog:d["a"]})},"5ea8":function(t,e,s){"use strict";s("18dd")},"8b37":function(t,e,s){},e8f2:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));s("498a"),s("99af"),s("4de4"),s("d3b7"),s("b64b"),s("2ca0"),s("a15b");var r=s("2b0e");function a(t){return r["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,s){var r=s.props,a=s.data,i=s.children;a.staticClass="".concat(t," ").concat(a.staticClass||"").trim();var n=a.attrs;if(n){a.attrs={};var o=Object.keys(n).filter((function(t){if("slot"===t)return!1;var e=n[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));o.length&&(a.staticClass+=" ".concat(o.join(" ")))}return r.id&&(a.domProps=a.domProps||{},a.domProps.id=r.id),e(r.tag,a,i)}})}},f40d:function(t,e,s){"use strict";var r=s("2b0e");e["a"]=r["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})}}]);